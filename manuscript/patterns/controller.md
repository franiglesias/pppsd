La verdad es que explicar los patrones GRASP en tuits es bastante complicado, porque en algunos casos se tarda menos con un ejemplo de c√≥digo. Esta vez le toca el turno a Controller, que se puede explicar de forma bastante sencilla sin necesidad de ejemplos de c√≥digo. üßªüëáüèº
Controller responde a la pregunta: ¬øpor d√≥nde se entra al sistema? Y b√°sicamente la responde introduciendo un objeto (el controller) que act√∫a de intermediario entre la capa de interfaz de usuario y la aplicaci√≥n, vinculando eventos que suceden en UI con casos de uso‚Ä¶
‚Ä¶ en la aplicaci√≥n. Por supuesto, esto remite al patr√≥n MVC que naci√≥ en las GUI y se usa habitualmente en aplicaciones web. En principio Controller se refiere a un objeto que es capaz de gestionar un determinado evento de la UI y lanzar el caso de uso correspondiente‚Ä¶
‚Ä¶ aunque tambi√©n cabe la posibilidad de que un solo controller agrupe varios m√©todos que responden a distintos eventos de la UI‚Ä¶ como los verbos de una API REST para un cierto tipo de recursos.
Esto es, por ejemplo: si el usuario env√≠a un formulario, hay un controlador que ‚Äúcaptura‚Äù ese evento (en HTTP una request a una URI espec√≠fica) , extrae los datos, instancia un caso de uso y lo ejecuta, provocando un efecto o recuperando info, y devolviendo la respuesta adecuada.
La tarea del controller es gestionar ese proceso, pero no debe contener l√≥gica de negocio. Tan solo es un traductor entre la intenci√≥n de la usuaria de la aplicaci√≥n y el caso de uso que representa esa intenci√≥n. Si hay l√≥gica de negocio en el controller tienes un problema.
Controller es un elemento de infraestructura y ‚Äúadapta‚Äù una tecnolog√≠a concreta. Existen muchos frameworks que nos ofrecen todo lo necesario para montar controladores y, como tales, deber√≠an estar en la capa de infraestructura de la aplicaci√≥n. S√≠‚Ä¶ ya s√© que Rails, Laravel‚Ä¶
‚Ä¶ y un largo etc√©tera se postulan como la base de las aplicaciones con sus MVC y sus Active Record y acaban mezcl√°ndolo todo, siendo habitual encontrar aplicaciones basadas en ellos con l√≥gica de negocio en controladores ‚Äúgordos‚Äù, pero esa es otra discusi√≥n.
Lo importante es quedarse con la idea de que Controller es un patr√≥n para resolver el problema de c√≥mo entrar a una aplicaci√≥n y c√≥mo ejecutar las intenciones de las usuarias. Tambi√©n, que la √∫nica l√≥gica que deber√≠a contener es la necesaria para identificar cu√°l es esa intenci√≥n
y, por tanto, lanzar el caso de uso que le da respuesta. LO mejor es hacerlos muy peque√±os y aunque puedas agrupar varias acciones en ellos, es importante que est√©n muy cohesionadas. Es mejor tener muchos objetos controller con pocas responsabilidades, que pocos que hacen de t√≥.
Por cierto, en este art√≠culo est√°n explicados los patrones GRASP y con ejemplos en varios casos:
Preview
